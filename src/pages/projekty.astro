---
import { getCollection } from "astro:content";
import BaseLayout from "../layouts/BaseLayout.astro";
import ProjectEntry from "../components/ProjetctEntry.astro";
import PageHeading from "../components/PageHeading.astro";

const allProjects = await getCollection("projects");
const pageTitle = "Projekty";
---
<BaseLayout pageTitle={pageTitle}>
    <PageHeading pageTitle={pageTitle} />
    <section class="fluid-container grid grid-cols-12 gap-8">
        <article class="prose size-lg">
            <h2>... kde píšu co zrovna chci.</h2>

            <p>zatím nevím co bych tu psal. Tak tady nechám jen tento text.</p>

            <ul class="not-prose">
                {
                    allProjects.map((project) => (
                        <ProjectEntry url={`/projekty/${project.slug}/`} title={project.data.title} />
                    ))
                }
            </ul>
        </article>
    </section>
</BaseLayout>